{
  "*.h": {
    "template": [
      "#ifndef _AOC_Y2022_{basename|uppercase}_H_INCLUDED",
      "#define _AOC_Y2022_{basename|uppercase}_H_INCLUDED",
      "#include \"common.h\"",
      "",
      "PyObject *AoC_y2022_{basename}(PyObject *unicode_input) {",
      "  PyObject *lines = PyUnicode_Splitlines(unicode_input, 0);",
      "  if (!lines) {",
      "    PyErr_Format(PyExc_RuntimeError, \"could not split input into lines\");",
      "    goto error;",
      "  }",
      "",
      "  Py_ssize_t num_lines = PyList_Size(lines);",
      "  long part1 = 0;",
      "  long part2 = 0;",
      "  for (Py_ssize_t i = 0; i < num_lines; ++i) {",
      "    PyObject *line = PyList_GetItem(lines, i);",
      "    PySys_FormatStdout(\"%zd: %S\n\", i, line);",
      "    part1 += 1 * i;",
      "    part2 += 2 * i;",
      "  }",
      "  Py_DECREF(lines);",
      "  PyObject *part1_py = PyLong_FromLong(part1);",
      "  PyObject *part2_py = PyLong_FromLong(part2);",
      "  PyObject *solution = PyUnicode_FromFormat(\"%S %S\", part1_py, part2_py);",
      "  Py_DECREF(part1_py);",
      "  Py_DECREF(part2_py);",
      "  return solution;",
      "",
      "error:",
      "  return NULL;",
      "}",
      "",
      "#endif  // _AOC_Y2022_{basename|uppercase}_H_INCLUDED"
    ]
  }
}
